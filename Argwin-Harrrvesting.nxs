{"name":"harrrvesting","enabled":true,"description":"Argwin's Harvesting Package","type":"group","id":1,"items":[{"type":"function","name":"onLoad","enabled":true,"id":3,"code":"// Place any code here you'd like to autorun when the system is loaded\nset_variable('harvesting_on', 0);\nset_variable('rooms_harvested', []);","items":[]},{"type":"function","name":"onGMCP","enabled":true,"id":4,"code":"// Place any code here you'd like to run when a GMCP message is received\n// - The GMCP message is received as \"args.gmcp_method\" and \"args.gmcp_args\"\n\n/*if(args.gmcp_method == \"Char.Vitals\") {\n  health = args.gmcp_args.hp;\n  mana = args.gmcp_args.mp;\n    \n  client.print(\"Health: \" + health + \" Mana: \" + mana);\n};*/\nif(args.gmcp_method == \"Room.Info\") {\n \ttype = args.gmcp_args.environment;\n    roomNum = args.gmcp_args.num;\n    doHarvest = get_variable('harvesting_on');\n    set_variable('room_type', type);\n    \n    if(doHarvest == 1) {\n        //client.print(roomNum);\n        found = false;\n        //client.print(found);\n        rooms = [];\n        rooms = get_variable('rooms_harvested');\n        rooms.forEach(function(index) {\n            //client.print(\"Index: \" + index);\n            //client.print(\"roomNum: \" + roomNum + \" | Rooms[index]: \" + rooms[index]);\n             if(roomNum == index) {\n                 found = true;\n                 //client.print(found);\n             }\n        });\n        if(!found) {\n            //client.print(\"About to harvest: \" + found);\n        \trooms.push(roomNum);\n        \tset_variable('rooms_harvested', rooms);\n     \t\tsend_command('harvest room', 0); \n        }\n    }\n    \n}","items":[]},{"type":"group","name":"Harvesting","enabled":true,"id":2,"items":[{"type":"alias","name":"harvest-on","enabled":true,"id":5,"matching":"begins","whole_words":true,"case_sensitive":true,"prefix_suffix":true,"actions":[{"action":"variable","varname":"@harvesting_on","valtype":"value","value":"1","op":"set"},{"action":"notify","notice":"Harvesting on","notice_fg":"#ff0000","notice_bg":"#000000"}],"text":"harvest on","items":[]},{"type":"alias","name":"harvest-off","enabled":true,"id":6,"matching":"begins","whole_words":true,"case_sensitive":true,"prefix_suffix":true,"actions":[{"action":"variable","varname":"@harvesting_on","valtype":"value","value":"0","op":"set"},{"action":"notify","notice":"Harvesting off","notice_fg":"#ff0000","notice_bg":"#000000"}],"text":"harvest off","items":[]},{"type":"alias","name":"harvest-room","enabled":true,"id":7,"matching":"begins","whole_words":true,"case_sensitive":true,"prefix_suffix":true,"actions":[{"action":"if","cond-type1":"variable","cond-val1":"@room_type","cond-type2":"value","cond-val2":"Forest","cond-op":"eq","cond-mod":"","cond-cs":false,"dothen":"continue","doelse":"jump","dothenlabel":"Forest","doelselabel":"Check Jungle"},{"action":"command","command":"harvest forest","prefix_suffix":true},{"action":"label","label":"Check Jungle"},{"action":"if","cond-type1":"variable","cond-val1":"@room_type","cond-type2":"value","cond-val2":"Jungle","cond-op":"eq","cond-mod":"","cond-cs":false,"dothen":"continue","doelse":"jump","dothenlabel":"","doelselabel":"Check Grassland"},{"action":"command","command":"harvest jungle","prefix_suffix":true},{"action":"label","label":"Check Grassland"},{"action":"if","cond-type1":"variable","cond-val1":"@room_type","cond-type2":"value","cond-val2":"Grasslands","cond-op":"eq","cond-mod":"","cond-cs":false,"dothen":"continue","doelse":"jump","dothenlabel":"","doelselabel":"Check hills"},{"action":"command","command":"harvest grassland","prefix_suffix":true},{"action":"label","label":"Check hills"},{"action":"if","cond-type1":"variable","cond-val1":"@room_type","cond-type2":"value","cond-val2":"Hills","cond-op":"eq","cond-mod":"","cond-cs":false,"dothen":"continue","doelse":"jump","dothenlabel":"","doelselabel":"Check swamp"},{"action":"command","command":"harvest hills","prefix_suffix":true},{"action":"label","label":"Check swamp"},{"action":"if","cond-type1":"variable","cond-val1":"@room_type","cond-type2":"value","cond-val2":"Swamp","cond-op":"eq","cond-mod":"","cond-cs":false,"dothen":"continue","doelse":"jump","dothenlabel":"","doelselabel":"Check mountain"},{"action":"command","command":"harvest swamp","prefix_suffix":true},{"action":"label","label":"Check mountain"},{"action":"if","cond-type1":"variable","cond-val1":"@room_type","cond-type2":"value","cond-val2":"Mountains","cond-op":"eq","cond-mod":"","cond-cs":false,"dothen":"continue","doelse":"jump","dothenlabel":"","doelselabel":"Check Water"},{"action":"command","command":"harvest mountain","prefix_suffix":true},{"action":"label","label":"Check Water"},{"action":"if","cond-type1":"variable","cond-val1":"@room_type","cond-type2":"value","cond-val2":"Ocean","cond-op":"eq","cond-mod":"","cond-cs":false,"dothen":"continue","doelse":"stop","dothenlabel":"","doelselabel":""},{"action":"if","cond-type1":"variable","cond-val1":"@room_type","cond-type2":"value","cond-val2":"River","cond-op":"eq","cond-mod":"","cond-cs":false,"dothen":"continue","doelse":"stop","dothenlabel":"","doelselabel":""},{"action":"if","cond-type1":"variable","cond-val1":"@room_type","cond-type2":"value","cond-val2":"Freshwater","cond-op":"eq","cond-mod":"","cond-cs":false,"dothen":"continue","doelse":"stop","dothenlabel":"","doelselabel":""},{"action":"command","command":"harvest water","prefix_suffix":true}],"text":"harvest room","items":[]},{"type":"alias","name":"set-rift","enabled":true,"id":8,"matching":"begins","whole_words":true,"case_sensitive":true,"prefix_suffix":true,"actions":[{"action":"variable","varname":"@rift_max","valtype":"variable","value":"riftamount","op":"set"},{"action":"notify","notice":"Maximum rift amount set","notice_fg":"#ff0000","notice_bg":"#000000"}],"text":"setrift <riftamount>","items":[]},{"type":"alias","name":"harvest-jungle","enabled":true,"id":9,"matching":"begins","whole_words":true,"case_sensitive":true,"prefix_suffix":true,"actions":[{"action":"script","script":"//Enter the script here\nset_variable(\"kuzu_count\", tracking_rift.check_rift(\"kuzu root\"));\nset_variable(\"kola_count\", tracking_rift.check_rift(\"kola nut\"));\nset_variable(\"skullcap_count\", tracking_rift.check_rift(\"skullcap\"));"},{"action":"if","cond-type1":"variable","cond-val1":"@kuzu_count","cond-type2":"variable","cond-val2":"@rift_max","cond-op":"smaller","cond-mod":"","cond-cs":false,"dothen":"continue","doelse":"jump","dothenlabel":"","doelselabel":"Kola"},{"action":"command","command":"harvest kuzu","prefix_suffix":true},{"action":"wait","seconds":"2","milliseconds":"500"},{"action":"label","label":"Kola"},{"action":"if","cond-type1":"variable","cond-val1":"@kola_count","cond-type2":"variable","cond-val2":"@rift_max","cond-op":"smaller","cond-mod":"","cond-cs":false,"dothen":"continue","doelse":"jump","dothenlabel":"","doelselabel":"Skullcap"},{"action":"command","command":"harvest kola","prefix_suffix":true},{"action":"wait","seconds":"2","milliseconds":"500"},{"action":"label","label":"Skullcap"},{"action":"if","cond-type1":"variable","cond-val1":"@skullcap_count","cond-type2":"variable","cond-val2":"@rift_max","cond-op":"smaller","cond-mod":"","cond-cs":false,"dothen":"continue","doelse":"jump","dothenlabel":"","doelselabel":"INR"},{"action":"command","command":"harvest skullcap","prefix_suffix":true},{"action":"wait","seconds":"2","milliseconds":"500"},{"action":"label","label":"INR"},{"action":"command","command":"inr all","prefix_suffix":true}],"text":"harvest jungle","items":[]},{"type":"alias","name":"harvest-forest","enabled":true,"id":10,"matching":"begins","whole_words":true,"case_sensitive":true,"prefix_suffix":true,"actions":[{"action":"script","script":"//Enter the script here\nset_variable(\"echinacea_count\", tracking_rift.check_rift(\"echinacea\"));\nset_variable(\"ginseng_count\", tracking_rift.check_rift(\"ginseng root\"));\nset_variable(\"ginger_count\", tracking_rift.check_rift(\"ginger root\"));\nset_variable(\"myrrh_count\", tracking_rift.check_rift(\"myrrh gum\"));\nset_variable(\"lobelia_count\", tracking_rift.check_rift(\"lobelia seed\"));\nset_variable(\"burdock_count\", tracking_rift.check_rift(\"burdock\"));\nset_variable(\"elm_count\", tracking_rift.check_rift(\"slippery elm\"));"},{"action":"if","cond-type1":"variable","cond-val1":"@echinacea_count","cond-type2":"variable","cond-val2":"@rift_max","cond-op":"smaller","cond-mod":"","cond-cs":false,"dothen":"continue","doelse":"jump","dothenlabel":"","doelselabel":"Ginseng"},{"action":"command","command":"harvest echinacea","prefix_suffix":true},{"action":"wait","seconds":"2","milliseconds":"500"},{"action":"label","label":"Ginseng"},{"action":"if","cond-type1":"variable","cond-val1":"@ginseng_count","cond-type2":"variable","cond-val2":"@rift_max","cond-op":"smaller","cond-mod":"","cond-cs":false,"dothen":"continue","doelse":"jump","dothenlabel":"","doelselabel":"Ginger"},{"action":"command","command":"harvest ginseng","prefix_suffix":true},{"action":"wait","seconds":"2","milliseconds":"500"},{"action":"label","label":"Ginger"},{"action":"if","cond-type1":"variable","cond-val1":"@ginger_count","cond-type2":"variable","cond-val2":"@rift_max","cond-op":"smaller","cond-mod":"","cond-cs":false,"dothen":"continue","doelse":"jump","dothenlabel":"","doelselabel":"Myrrh"},{"action":"command","command":"harvest ginger","prefix_suffix":true},{"action":"wait","seconds":"2","milliseconds":"500"},{"action":"label","label":"Myrrh"},{"action":"if","cond-type1":"variable","cond-val1":"@myrrh_count","cond-type2":"variable","cond-val2":"@rift_max","cond-op":"smaller","cond-mod":"","cond-cs":false,"dothen":"continue","doelse":"jump","dothenlabel":"","doelselabel":"Lobelia"},{"action":"command","command":"harvest myrrh","prefix_suffix":true},{"action":"wait","seconds":"2","milliseconds":"500"},{"action":"label","label":"Lobelia"},{"action":"if","cond-type1":"variable","cond-val1":"@lobelia_count","cond-type2":"variable","cond-val2":"@rift_max","cond-op":"smaller","cond-mod":"","cond-cs":false,"dothen":"continue","doelse":"jump","dothenlabel":"","doelselabel":"Burdock"},{"action":"command","command":"harvest lobelia","prefix_suffix":true},{"action":"wait","seconds":"2","milliseconds":"500"},{"action":"label","label":"Burdock"},{"action":"if","cond-type1":"variable","cond-val1":"@burdock_count","cond-type2":"variable","cond-val2":"@rift_max","cond-op":"smaller","cond-mod":"","cond-cs":false,"dothen":"continue","doelse":"jump","dothenlabel":"","doelselabel":"Elm"},{"action":"command","command":"harvest burdock","prefix_suffix":true},{"action":"wait","seconds":"2","milliseconds":"500"},{"action":"label","label":"Elm"},{"action":"if","cond-type1":"variable","cond-val1":"@elm_count","cond-type2":"variable","cond-val2":"@rift_max","cond-op":"smaller","cond-mod":"","cond-cs":false,"dothen":"continue","doelse":"jump","dothenlabel":"","doelselabel":"INR"},{"action":"command","command":"harvest elm","prefix_suffix":true},{"action":"wait","seconds":"2","milliseconds":"500"},{"action":"label","label":"INR"},{"action":"command","command":"inr all","prefix_suffix":true}],"text":"harvest forest","items":[]},{"type":"alias","name":"harvest-grassland","enabled":true,"id":11,"matching":"begins","whole_words":true,"case_sensitive":true,"prefix_suffix":true,"actions":[{"action":"script","script":"//Enter the script here\nset_variable(\"goldenseal_count\", tracking_rift.check_rift(\"goldenseal root\"));\nset_variable(\"slipper_count\", tracking_rift.check_rift(\"lady's slipper root\"));"},{"action":"if","cond-type1":"variable","cond-val1":"@goldenseal_count","cond-type2":"variable","cond-val2":"@rift_max","cond-op":"smaller","cond-mod":"","cond-cs":false,"dothen":"continue","doelse":"jump","dothenlabel":"","doelselabel":"Slipper"},{"action":"command","command":"harvest goldenseal","prefix_suffix":true},{"action":"wait","seconds":"2","milliseconds":"500"},{"action":"label","label":"Slipper"},{"action":"if","cond-type1":"variable","cond-val1":"@slipper_count","cond-type2":"variable","cond-val2":"@rift_max","cond-op":"smaller","cond-mod":"","cond-cs":false,"dothen":"continue","doelse":"jump","dothenlabel":"","doelselabel":"INR"},{"action":"command","command":"harvest slipper","prefix_suffix":true},{"action":"wait","seconds":"2","milliseconds":"500"},{"action":"label","label":"INR"},{"action":"command","command":"inr all","prefix_suffix":true}],"text":"harvest grassland","items":[]},{"type":"alias","name":"harvest-cave","enabled":true,"id":12,"matching":"begins","whole_words":true,"case_sensitive":true,"prefix_suffix":true,"actions":[{"action":"script","script":"//Enter the script here\nset_variable(\"irid_count\", tracking_rift.check_rift(\"irid moss\"));\nset_variable(\"bloodroot_count\", tracking_rift.check_rift(\"bloodroot leaf\"));"},{"action":"if","cond-type1":"variable","cond-val1":"@irid_count","cond-type2":"variable","cond-val2":"@rift_max","cond-op":"smaller","cond-mod":"","cond-cs":false,"dothen":"continue","doelse":"jump","dothenlabel":"","doelselabel":"Bloodroot"},{"action":"command","command":"harvest irid","prefix_suffix":true},{"action":"wait","seconds":"2","milliseconds":"500"},{"action":"label","label":"Bloodroot"},{"action":"if","cond-type1":"variable","cond-val1":"@bloodroot_count","cond-type2":"variable","cond-val2":"@rift_max","cond-op":"smaller","cond-mod":"","cond-cs":false,"dothen":"continue","doelse":"jump","dothenlabel":"","doelselabel":"INR"},{"action":"command","command":"harvest bloodroot","prefix_suffix":true},{"action":"label","label":"INR"},{"action":"command","command":"inr all","prefix_suffix":true}],"text":"harvest cave","items":[]},{"type":"alias","name":"harvest-hills","enabled":true,"id":13,"matching":"begins","whole_words":true,"case_sensitive":true,"prefix_suffix":true,"actions":[{"action":"script","script":"//Enter the script here\nset_variable(\"hawthorn_count\", tracking_rift.check_rift(\"hawthorn berry\"));\nset_variable(\"bayberry_count\", tracking_rift.check_rift(\"bayberry bark\"));"},{"action":"if","cond-type1":"variable","cond-val1":"@hawthorn_count","cond-type2":"variable","cond-val2":"@rift_max","cond-op":"smaller","cond-mod":"","cond-cs":false,"dothen":"continue","doelse":"jump","dothenlabel":"","doelselabel":"Bayberry"},{"action":"command","command":"harvest hawthorn","prefix_suffix":true},{"action":"wait","seconds":"2","milliseconds":"500"},{"action":"label","label":"Bayberry"},{"action":"if","cond-type1":"variable","cond-val1":"@bayberry_count","cond-type2":"variable","cond-val2":"@rift_max","cond-op":"smaller","cond-mod":"","cond-cs":false,"dothen":"continue","doelse":"jump","dothenlabel":"","doelselabel":"INR"},{"action":"command","command":"harvest bayberry","prefix_suffix":true},{"action":"wait","seconds":"2","milliseconds":"500"},{"action":"label","label":"INR"},{"action":"command","command":"inr all","prefix_suffix":true}],"text":"harvest hills","items":[]},{"type":"alias","name":"harvest-mountain","enabled":true,"id":14,"matching":"begins","whole_words":true,"case_sensitive":true,"prefix_suffix":true,"actions":[{"action":"script","script":"//Enter the script here\nset_variable(\"valerian_count\", tracking_rift.check_rift(\"valerian\"));"},{"action":"if","cond-type1":"variable","cond-val1":"@valerian_count","cond-type2":"variable","cond-val2":"@rift_max","cond-op":"smaller","cond-mod":"","cond-cs":false,"dothen":"continue","doelse":"stop","dothenlabel":"","doelselabel":""},{"action":"command","command":"harvest valerian","prefix_suffix":true},{"action":"command","command":"inr all","prefix_suffix":true}],"text":"harvest mountain","items":[]},{"type":"alias","name":"harvest-swamp","enabled":true,"id":15,"matching":"begins","whole_words":true,"case_sensitive":true,"prefix_suffix":true,"actions":[{"action":"script","script":"//Enter the script here\nset_variable(\"cohosh_count\", tracking_rift.check_rift(\"black cohosh\"));\nset_variable(\"bellwort_count\", tracking_rift.check_rift(\"bellwort flower\"));\nset_variable(\"ash_count\", tracking_rift.check_rift(\"prickly ash bark\"));"},{"action":"if","cond-type1":"variable","cond-val1":"@cohosh_count","cond-type2":"variable","cond-val2":"@rift_max","cond-op":"smaller","cond-mod":"","cond-cs":false,"dothen":"continue","doelse":"jump","dothenlabel":"","doelselabel":"Bellwort"},{"action":"command","command":"harvest cohosh","prefix_suffix":true},{"action":"wait","seconds":"2","milliseconds":"500"},{"action":"label","label":"Bellwort"},{"action":"if","cond-type1":"variable","cond-val1":"@bellwort_count","cond-type2":"variable","cond-val2":"@rift_max","cond-op":"smaller","cond-mod":"","cond-cs":false,"dothen":"continue","doelse":"jump","dothenlabel":"","doelselabel":"Ash"},{"action":"command","command":"harvest bellwort","prefix_suffix":true},{"action":"wait","seconds":"2","milliseconds":"500"},{"action":"label","label":"Ash"},{"action":"if","cond-type1":"variable","cond-val1":"@ash_count","cond-type2":"variable","cond-val2":"@rift_max","cond-op":"smaller","cond-mod":"","cond-cs":false,"dothen":"continue","doelse":"jump","dothenlabel":"","doelselabel":"INR"},{"action":"command","command":"harvest ash","prefix_suffix":true},{"action":"wait","seconds":"2","milliseconds":"500"},{"action":"label","label":"INR"},{"action":"command","command":"inr all","prefix_suffix":true}],"text":"harvest swamp","items":[]},{"type":"alias","name":"harvest-water","enabled":true,"id":16,"matching":"begins","whole_words":true,"case_sensitive":true,"prefix_suffix":true,"actions":[{"action":"script","script":"//Enter the script here\nset_variable(\"kelp_count\", tracking_rift.check_rift(\"kelp\"));"},{"action":"if","cond-type1":"variable","cond-val1":"@kelp_count","cond-type2":"variable","cond-val2":"@rift_max","cond-op":"smaller","cond-mod":"","cond-cs":false,"dothen":"continue","doelse":"stop","dothenlabel":"","doelselabel":"INR"},{"action":"command","command":"harvest kelp","prefix_suffix":true},{"action":"command","command":"inr all","prefix_suffix":true}],"text":"harvest water","items":[]}],"actions":[]}]}